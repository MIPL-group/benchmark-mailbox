(this.webpackJsonpmailbox=this.webpackJsonpmailbox||[]).push([[0],{11:function(e,a,t){e.exports=t(19)},19:function(e,a,t){"use strict";t.r(a);var l=t(0),s=t.n(l),n=t(10),m=t.n(n),c=(t(16),t(2)),r=t(3),o=t(4),d=t(1),i=t(6),u=t(5),p=function(e){var a=e.parent;return s.a.createElement("main",{className:"px-2 flex-fill"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 px-4 d-flex flex-column"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-4 py-3"},s.a.createElement("ul",{className:"list-group sticky-top sticky-offset"},s.a.createElement("button",{className:"btn btn-block btn-outline-secondary my-1 text-uppercase","data-target":"#composeModal","data-toggle":"modal"},"Compose ",s.a.createElement("i",{className:"align-middle icon-pencil"})),s.a.createElement("div",{className:"nav nav-pills py-2 flex-md-column justify-content-center"},s.a.createElement("a",{href:{void:0},className:"nav-link active",title:"Messages","data-toggle":"tab","data-target":"#messages"},s.a.createElement("span",{className:"icon icon-envelope fa fa-fw fa-envelope mr-md-1"}),s.a.createElement("span",{className:"d-none d-md-inline"},"Messages"),s.a.createElement("span",{className:"badge badge-pill badge-dark small font-weight-light ml-1",title:"Unread"},a.state.messages.filter((function(e,a){return!e.read})).length)),s.a.createElement("a",{href:{void:0},className:"nav-link",title:"Deleted","data-toggle":"tab","data-target":"#deleted"},s.a.createElement("span",{className:"icon icon-trash fa fa-fw fa-trash mr-md-1"}),s.a.createElement("span",{className:"d-none d-md-inline"},"Deleted"),s.a.createElement("span",{className:"badge badge-pill badge-dark small font-weight-light ml-1",title:"Deleted"},a.state.deleted.length)),s.a.createElement("a",{href:{void:0},className:"nav-link",title:"Drafts","data-toggle":"tab","data-target":"#drafts"},s.a.createElement("span",{className:"icon icon-pencil fa fa-fw fa-edit mr-md-1"}),s.a.createElement("span",{className:"d-none d-md-inline"},"Drafts"))),s.a.createElement("div",{className:"d-md-block d-none"}))),s.a.createElement("div",{className:"col-md py-3 tab-content"},s.a.createElement("div",{id:"messages",className:"tab-pane active"},s.a.createElement("div",{className:"d-flex flex-sm-row flex-column py-1 mb-1"},s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-outline-secondary text-uppercase",onClick:a.toggleMarkAll},s.a.createElement("div",{className:"custom-control custom-checkbox",onClick:a.toggleMarkAll},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"checkAll",defaultChecked:!1,onChange:a.toggleMarkAll}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"checkAll"},"Mark"))),a.state.messages&&a.state.messages.filter((function(e,a){if(1===e.marked)return e})).length>0?s.a.createElement("div",{className:"btn-group mr-sm-auto mr-none"},s.a.createElement("button",{type:"button",className:"btn btn-outline-secondary dropdown-toggle text-uppercase","data-toggle":"dropdown"}),s.a.createElement("div",{className:"dropdown-menu",id:"dd1"},s.a.createElement("a",{className:"dropdown-item",onClick:a.deleteMarked},"Delete marked items"))):null),s.a.createElement("button",{type:"button",className:"btn btn-outline-secondary mx-sm-1 mx-none",onClick:a.refreshMessages},s.a.createElement("i",{className:"align-middle icon-refresh fas fa-sync"})),s.a.createElement("button",{type:"button",className:"btn btn-outline-secondary mr-sm-1 mr-none","data-target":"#composeModal","data-toggle":"modal"},s.a.createElement("i",{className:"align-middle icon-pencil fa fa-edit"}))),s.a.createElement("ul",{className:"list-group py-2"},a.state.messages&&a.state.messages.length>0?a.state.messages.map((function(e,t){return s.a.createElement("li",{key:t,className:"list-group-item list-group-item-action d-block py-1"},s.a.createElement("summary",{className:"row"},s.a.createElement("div",{className:"col py-2 order-1"},s.a.createElement("div",{onClick:function(){return a.toggleMark(t)},className:"custom-control custom-checkbox"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"check"+t,checked:1===e.marked,onChange:function(){return a.toggleMark(t)}}),s.a.createElement("label",{className:"custom-control-label text-nowrap",htmlFor:"check"+t},s.a.createElement("a",{title:"send mail",href:"mailto:"+e.fromAddress},e.from," ",s.a.createElement("span",{className:"icon icon-envelope far fa-fw fa-envelope mr-md-1"}))))),s.a.createElement("div",{className:"col-auto px-0 order-last order-sm-2 d-none d-sm-block align-self-center text-right"},s.a.createElement("a",{className:"text-secondary px-md-1",title:"Deleted",onClick:function(){return a.doDelete(t)}},s.a.createElement("span",{className:"icon icon-trash fa fa-fw fa-trash"}))),s.a.createElement("div",{className:"col-sm-12 col-10 py-2 order-3",onClick:function(){return a.doShow(t)}},s.a.createElement("div",{className:"float-right text-right"},s.a.createElement("span",{className:" d-none d-sm-block "+(e.read?"":"font-weight-bold")},e.dtSent)),s.a.createElement("p",{className:"lead mb-0"},s.a.createElement("a",{title:e.read?"View this message":"This is a new message",onClick:function(){return a.doShow(t)}},e.subject),e.attachment?s.a.createElement("i",{className:"align-middle fa fa-paperclip icon-paper-clip"}):null,s.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm ml-2 d-none d-md-inline",onClick:function(){return a.doShow(t)}},"Open")))))})):null)),s.a.createElement("div",{id:"deleted",className:"tab-pane"},s.a.createElement("h5",null,"Deleted items(",a.state.deleted.length,")"),s.a.createElement("div",{className:"row"},a.state.deleted&&a.state.deleted.length>0?a.state.deleted.map((function(e,a){return s.a.createElement("div",{className:"col-12",key:a},s.a.createElement("a",{href:!0},e.from," (",e.fromAddress,")",s.a.createElement("span",{className:"px-2"},e.subject.substring(0,20),"...")))})):null)),s.a.createElement("div",{id:"drafts",className:"tab-pane"},s.a.createElement("h5",null,"Drafts"),s.a.createElement("p",null,"Not implemented..")),s.a.createElement("div",{id:"calendar",className:"tab-pane"},s.a.createElement("h5",null,"Calendar"),s.a.createElement("p",null,"Not implemented..")))))))},b=t(7),g=t.n(b),f=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var l;return Object(r.a)(this,t),(l=a.call(this,e)).show=l.show.bind(Object(d.a)(l)),l.state={},l}return Object(o.a)(t,[{key:"show",value:function(e){g()(this.refs.composeModal).modal("show")}},{key:"render",value:function(){return s.a.createElement("div",{id:"composeModal",className:"modal fade mt-0 mt-md-5",tabIndex:"-1",role:"dialog","aria-hidden":"true",ref:"composeModal"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"text-uppercase text-muted"},"Compose"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"),s.a.createElement("span",{className:"sr-only"},"Close"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{className:"form",role:"form",autoComplete:"off"},s.a.createElement("div",{className:"form-row py-2"},s.a.createElement("label",{htmlFor:"sendTo",className:"col-sm-2 mb-0"},"To"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"sendTo",id:"sendTo",className:"form-control",required:"",value:this.props.sendTo}))),s.a.createElement("div",{className:"form-row py-2"},s.a.createElement("label",{htmlFor:"subject",className:"col-sm-2 mb-0"},"Subject"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"subject",id:"subject",className:"form-control",required:""}))),s.a.createElement("div",{className:"form-row py-2"},s.a.createElement("label",{htmlFor:"message2",className:"col-sm-2 mb-0"},"Message"),s.a.createElement("div",{className:"col"},s.a.createElement("textarea",{rows:"6",name:"message2",id:"message2",className:"form-control",required:""}))),s.a.createElement("div",{className:"form-row py-2"},s.a.createElement("div",{className:"col-sm-auto py-1"},s.a.createElement("form",null,s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"file",class:"form-control-file",id:"exampleFormControlFile1"}))),s.a.createElement("button",{type:"submit",className:"btn btn-outline-secondary btn-block"},"Attachments",s.a.createElement("i",{className:"align-middle icon-paper-clip fa fa-paperclip ml-1"}))),s.a.createElement("div",{className:"col py-1"},s.a.createElement("button",{type:"submit",className:"btn btn-secondary float-right ml-1"},"Send Message"),s.a.createElement("button",{type:"submit",className:"btn btn-outline-secondary float-right"},"Save Draft"))))))))}}]),t}(s.a.Component),E=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var l;return Object(r.a)(this,t),(l=a.call(this,e)).show=l.show.bind(Object(d.a)(l)),l}return Object(o.a)(t,[{key:"show",value:function(){g()(this.refs.messageModal).modal("show")}},{key:"render",value:function(){return s.a.createElement("div",{id:"messageModal",className:"modal fade mt-0 mt-md-5",tabIndex:"-1",role:"dialog","aria-hidden":"true",ref:"messageModal"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",null,s.a.createElement("small",{className:"text-uppercase text-muted"},"Subject"),s.a.createElement("h4",{className:"modal-title"},this.props.message.subject)),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"),s.a.createElement("span",{className:"sr-only"},"Close"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-8"},s.a.createElement("small",{className:"text-uppercase text-muted"},"From"),s.a.createElement("h4",null,s.a.createElement("a",{href:"'mailto:'+selected.fromAddress"},this.props.message.from))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement("small",{className:"text-uppercase text-muted"},"Sent"),s.a.createElement("h6",null,this.props.message.dtSent)),s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.message.body}}))),s.a.createElement("p",{className:"my-3"}),s.a.createElement("button",{className:"btn btn-primary float-right ml-2","data-dismiss":"modal","aria-hidden":"true"},"Close"),s.a.createElement("button",{className:"btn btn-outline-primary float-right","data-dismiss":"modal","data-toggle":"modal","data-target":"#composeModal"},"Reply")))))}}]),t}(s.a.Component),h=t(8),N=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var l;return Object(r.a)(this,t),(l=a.call(this,e)).markRead=l.markRead.bind(Object(d.a)(l)),l.doShow=l.doShow.bind(Object(d.a)(l)),l.doDelete=l.doDelete.bind(Object(d.a)(l)),l.toggleMark=l.toggleMark.bind(Object(d.a)(l)),l.toggleMarkAll=l.toggleMarkAll.bind(Object(d.a)(l)),l.deleteMarked=l.deleteMarked.bind(Object(d.a)(l)),l.refreshMessages=l.refreshMessages.bind(Object(d.a)(l)),l.deleteMessages=l.deleteMessages.bind(Object(d.a)(l)),l.ModalMessage=s.a.createRef(),l.ModalCompose=s.a.createRef(),l.state={initMessages:h,messages:h,selected:{},deleted:[]},l}return Object(o.a)(t,[{key:"markRead",value:function(e){var a=Object(c.a)(this.state.messages);a[e].read=!0,this.setState({messages:a})}},{key:"doShow",value:function(e){this.markRead(e),this.setState({selected:h[e]}),this.ModalMessage.current.show()}},{key:"doCompose",value:function(){this.ModalCompose.current.show()}},{key:"toggleMark",value:function(e){var a=Object(c.a)(this.state.messages);a[e].marked=a[e].marked?0:1,this.setState({messages:a})}},{key:"doDelete",value:function(e){var a=Object(c.a)(this.state.messages),t=Object(c.a)(this.state.deleted);t.push(a[e]),a.splice(e,1),this.setState({messages:a,deleted:t})}},{key:"toggleMarkAll",value:function(){var e=Object(c.a)(this.state.messages);e.map((function(e,a){return e.marked=e.marked?0:1})),this.setState({messages:e})}},{key:"deleteMarked",value:function(){for(var e=Object(c.a)(this.state.messages),a=[],t=0;t<e.length;t++)1===e[t].marked&&a.push(t);a.length>0&&this.deleteMessages(a)}},{key:"refreshMessages",value:function(){var e=Object(c.a)(this.state.initMessages);this.setState({messages:e})}},{key:"deleteMessages",value:function(e){for(var a=Object(c.a)(this.state.messages),t=Object(c.a)(this.state.deleted),l=e.length-1;l>=0;l--)t.push(a[l]),a.splice(e[l],1);this.setState({messages:a,deleted:t})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(p,{parent:this}),s.a.createElement(f,{sendTo:this.state.selected.fromAddress}),s.a.createElement(E,{ref:this.ModalMessage,message:this.state.selected}),s.a.createElement("footer",{class:"my-5 pt-5 text-muted text-center text-small"},s.a.createElement("p",{class:"mb-1"},"Mailbox Benchmark Demo Site"),s.a.createElement("a",{href:"https://mipl-group.github.io/"},"MIPL github page")))}}]),t}(l.Component),v=function(){return s.a.createElement("nav",{class:"navbar navbar-expand-md navbar-light bg-light fixed-top"},s.a.createElement("a",{class:"navbar-brand",href:"./index.html"},"Mailbox"))};function y(){return s.a.createElement("div",null,s.a.createElement(v,null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement(N,null)))}var k=document.getElementById("root");m.a.render(s.a.createElement(y,null),k)},8:function(e){e.exports=JSON.parse('[{"id":1,"from":"Xinyu Wang","fromAddress":"test@foofoo.com","subject":"Week 10 Meeting","dtSent":"Today, 9:18AM","read":false,"body":"Hey guys, <br/><br/> Today\'s meeting is cancelled! Go have some fun~"},{"id":2,"from":"Yuetao Li","fromAddress":"test@testdomain.com","subject":"Interpreter","dtSent":"Yesterday, 8:54AM","read":false,"body":"Sorry, our interpreter is broken...","attachment":false}]')}},[[11,1,2]]]);
//# sourceMappingURL=main.636b2e93.chunk.js.map